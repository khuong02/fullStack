{"ast":null,"code":"import _objectSpread from\"E:/MERN stack project/fullStack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"E:/MERN stack project/fullStack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/MERN stack project/fullStack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/MERN stack project/fullStack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import queryString from\"query-string\";import WOW from\"wowjs\";import Pagination from\"./Pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Component=function Component(props){var path=props.path;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState({limit:18,page:1,totalPage:1}),_useState6=_slicedToArray(_useState5,2),pagination=_useState6[0],setPagination=_useState6[1];var _useState7=useState({page:1,limit:18}),_useState8=_slicedToArray(_useState7,2),filters=_useState8[0],setFilters=_useState8[1];useEffect(function(){setLoading(true);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var paramsString,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;paramsString=queryString.stringify(filters);_context.next=4;return axios.get(\"\".concat(path,\"?\").concat(paramsString));case 4:res=_context.sent;setProduct(res.data.result);setPagination(res.data.pagination);setLoading(false);new WOW.WOW().init();_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[path,filters]);var handlePageChange=function handlePageChange(newPage){setFilters(_objectSpread(_objectSpread({},filters),{},{page:newPage}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"box-commerce\",children:[loading&&/*#__PURE__*/_jsx(\"h4\",{children:\"Loading...\"}),product.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"box-item wow fadeInRight\",\"data-wow-duration\":\"1.5s\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:item.name})]})},item._id);}),pagination.totalPage>1&&/*#__PURE__*/_jsx(Pagination,{className:\"pagination\",pagination:pagination,onPageChange:handlePageChange})]});};// Component.propTypes = {\n//   path: PropTypes.string.isRequired,\n// };\nexport default Component;","map":{"version":3,"sources":["E:/MERN stack project/fullStack/client/src/components/boxcontent/components/commerce/components/Component.js"],"names":["React","useState","useEffect","axios","Link","queryString","WOW","Pagination","Component","props","path","product","setProduct","loading","setLoading","limit","page","totalPage","pagination","setPagination","filters","setFilters","fetchData","paramsString","stringify","get","res","data","result","init","console","log","message","handlePageChange","newPage","map","item","image","name","_id"],"mappings":"gnBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CAEA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAC3B,GAAQC,CAAAA,IAAR,CAAiBD,KAAjB,CAAQC,IAAR,CACA,cAA8BT,QAAQ,CAAC,EAAD,CAAtC,wCAAOU,OAAP,eAAgBC,UAAhB,eACA,eAA8BX,QAAQ,CAAC,KAAD,CAAtC,yCAAOY,OAAP,eAAgBC,UAAhB,eACA,eAAoCb,QAAQ,CAAC,CAC3Cc,KAAK,CAAE,EADoC,CAE3CC,IAAI,CAAE,CAFqC,CAG3CC,SAAS,CAAE,CAHgC,CAAD,CAA5C,yCAAOC,UAAP,eAAmBC,aAAnB,eAMA,eAA8BlB,QAAQ,CAAC,CACrCe,IAAI,CAAE,CAD+B,CAErCD,KAAK,CAAE,EAF8B,CAAD,CAAtC,yCAAOK,OAAP,eAAgBC,UAAhB,eAKAnB,SAAS,CAAC,UAAM,CACdY,UAAU,CAAC,IAAD,CAAV,CACA,GAAMQ,CAAAA,SAAS,0FAAG,wKAERC,YAFQ,CAEOlB,WAAW,CAACmB,SAAZ,CAAsBJ,OAAtB,CAFP,uBAGIjB,CAAAA,KAAK,CAACsB,GAAN,WAAaf,IAAb,aAAqBa,YAArB,EAHJ,QAGRG,GAHQ,eAIdd,UAAU,CAACc,GAAG,CAACC,IAAJ,CAASC,MAAV,CAAV,CACAT,aAAa,CAACO,GAAG,CAACC,IAAJ,CAAST,UAAV,CAAb,CACAJ,UAAU,CAAC,KAAD,CAAV,CACA,GAAIR,CAAAA,GAAG,CAACA,GAAR,GAAcuB,IAAd,GAPc,iFASdC,OAAO,CAACC,GAAR,CAAY,YAAIC,OAAhB,EATc,qEAAH,kBAATV,CAAAA,SAAS,0CAAf,CAYAA,SAAS,GACV,CAfQ,CAeN,CAACZ,IAAD,CAAOU,OAAP,CAfM,CAAT,CAiBA,GAAMa,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,OAAD,CAAa,CACpCb,UAAU,gCAAMD,OAAN,MAAeJ,IAAI,CAAEkB,OAArB,GAAV,CACD,CAFD,CAIA,mBACE,aAAK,SAAS,CAAC,cAAf,WACGrB,OAAO,eAAI,kCADd,CAEGF,OAAO,CAACwB,GAAR,CAAY,SAACC,IAAD,CAAU,CACrB,mBACE,YAEE,SAAS,CAAC,0BAFZ,CAGE,oBAAkB,MAHpB,uBAKE,MAAC,IAAD,EAAM,EAAE,CAAC,GAAT,wBACE,YAAK,GAAG,CAAEA,IAAI,CAACC,KAAf,CAAsB,GAAG,CAAC,EAA1B,EADF,cAEE,mBAAID,IAAI,CAACE,IAAT,EAFF,GALF,EACOF,IAAI,CAACG,GADZ,CADF,CAYD,CAbA,CAFH,CAgBGrB,UAAU,CAACD,SAAX,CAAuB,CAAvB,eACC,KAAC,UAAD,EACE,SAAS,CAAC,YADZ,CAEE,UAAU,CAAEC,UAFd,CAGE,YAAY,CAAEe,gBAHhB,EAjBJ,GADF,CA0BD,CA9DD,CAgEA;AACA;AACA;AAEA,cAAezB,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport queryString from \"query-string\";\r\nimport WOW from \"wowjs\";\r\n\r\nimport Pagination from \"./Pagination\";\r\n\r\nconst Component = (props) => {\r\n  const { path } = props;\r\n  const [product, setProduct] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [pagination, setPagination] = useState({\r\n    limit: 18,\r\n    page: 1,\r\n    totalPage: 1,\r\n  });\r\n\r\n  const [filters, setFilters] = useState({\r\n    page: 1,\r\n    limit: 18,\r\n  });\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const fetchData = async () => {\r\n      try {\r\n        const paramsString = queryString.stringify(filters);\r\n        const res = await axios.get(`${path}?${paramsString}`);\r\n        setProduct(res.data.result);\r\n        setPagination(res.data.pagination);\r\n        setLoading(false);\r\n        new WOW.WOW().init();\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [path, filters]);\r\n\r\n  const handlePageChange = (newPage) => {\r\n    setFilters({ ...filters, page: newPage });\r\n  };\r\n\r\n  return (\r\n    <div className=\"box-commerce\">\r\n      {loading && <h4>Loading...</h4>}\r\n      {product.map((item) => {\r\n        return (\r\n          <div\r\n            key={item._id}\r\n            className=\"box-item wow fadeInRight\"\r\n            data-wow-duration=\"1.5s\"\r\n          >\r\n            <Link to=\"/\">\r\n              <img src={item.image} alt=\"\" />\r\n              <p>{item.name}</p>\r\n            </Link>\r\n          </div>\r\n        );\r\n      })}\r\n      {pagination.totalPage > 1 && (\r\n        <Pagination\r\n          className=\"pagination\"\r\n          pagination={pagination}\r\n          onPageChange={handlePageChange}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Component.propTypes = {\r\n//   path: PropTypes.string.isRequired,\r\n// };\r\n\r\nexport default Component;\r\n"]},"metadata":{},"sourceType":"module"}